!function(t){var o={};function e(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var i in t)e.d(n,i,function(o){return t[o]}.bind(null,i));return n},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=0)}([function(t,o,e){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(e(1));var i=new n.default(".j-modal");i.OpenEnd=function(t){console.log(t,"openEnd")},i.CloseEnd=function(){console.log("closeEnd")},new n.default(".j-modal2",{width:768,modalSpeed:200,bgColor:"#CCC",bgOpacity:.9,innerBgColor:"#CCC",innerBgPadding:40,closeBtn:"Close",closeCancel:!1,addClass:"",fixed:!0})},function(t,o,e){"use strict";var n,i;"function"==typeof Symbol&&Symbol.iterator;void 0===(i="function"==typeof(n=function(){function t(t,o){this.selector=t,this.mgnModalDetail=this.selector.split(".")[1]+"_detail",this.mgnModalBox=this.selector.split(".")[1]+"_box",this.mgnModalBoxInner=this.selector.split(".")[1]+"_box_inner",this.mgnModalWrap=this.selector.split(".")[1]+"_wrap",this.mgnModalBoxClose=this.selector.split(".")[1]+"_box_close",this.mgnModalBoxBg=this.selector.split(".")[1]+"_bg",this.linkInnerHTML=this.selector.split(".")[1]+"_link_innerHTML",null==o&&(o={}),this.width=o.width?o.width:960,this.modalSpeed=o.modalSpeed?o.modalSpeed:200,this.bgColor=o.bgColor?o.bgColor:"#000",this.bgOpacity=o.bgOpacity?o.bgOpacity:.8,this.innerBgColor=o.innerBgColor?o.innerBgColor:"#FFF",this.innerBgPadding=o.innerBgPadding>=0?o.innerBgPadding:20,this.closeBtn=o.closeBtn||""==o.closeBtn?o.closeBtn:"Ã—",this.closeCancel=!!o.closeCancel&&o.closeCancel,this.trigger=o.trigger?o.trigger:"click",this.addClass=o.addClass?o.addClass:"",this.fixed=!(!o.fixed||!o.fixed)&&o.fixed,this.OpenEnd=function(){},this.CloseEnd=function(){},this.mgnModalMovieHeight=this.width/16*9,this.mgnModalImg=".gif|.jpg|.jpeg|.png",this.mgnModalHtml="//|.html|.php|=",this.mgnModalMovie="youtube|youtu",this.target=null,this.index=null,this.modal=document.querySelectorAll(this.selector),this.tagHTML=document.getElementsByTagName("html")[0],0!=this.modal.length&&(this.Init(),this.CreateModalArea())}return t.prototype.Init=function(){var t=this;if(this.Openfunc=function(o){o.preventDefault(),t.target=o.currentTarget,t.Set()},this.modal[0]){this.mgnModalDetailElm=document.getElementsByClassName("j-modal_detail");for(var o=0;o<this.modal.length;o++)this.modal[o].addEventListener("click",this.Openfunc)}},t.prototype.ReInit=function(){for(var t=0;t<this.modal.length;t++)this.modal[t].removeEventListener("click",this.Openfunc);this.Init()},t.prototype.CreateModalArea=function(){var t=this,o='<div id="'+this.mgnModalBox+'" class="'+this.addClass+'">';o+='<div id="'+this.mgnModalBoxInner+'">',o+='<div id="'+this.mgnModalWrap+'"></div>',o+='<p id="'+this.mgnModalBoxClose+'">'+this.closeBtn+"</p>",o+="</div>",o+="</div>",o+='<div id="'+this.mgnModalBoxBg+'"></div>',this.mgnModalBoxCSS="position: "+(this.fixed?"fixed":"absolute")+"; ",this.mgnModalBoxCSS+="top: "+(this.fixed?"50%":"0")+"; ",this.mgnModalBoxCSS+="left: 0; ",this.mgnModalBoxCSS+="right: 0; ",this.mgnModalBoxCSS+="margin: auto; ",this.mgnModalBoxCSS+="z-index: 10001; ",this.mgnModalBoxCSS+="width: 100%; ",this.mgnModalBoxCSS+="cursor: pointer; ",this.mgnModalBoxCSS+="transform: "+(this.fixed?"translate(0,-50%)":"translate(0,0)")+"; ",this.mgnModalBoxCSS+="-ms-transform: "+(this.fixed?"translate(0,-50%)":"translate(0,0)")+"; ",this.mgnModalBoxCSS+="-webkit-transform: "+(this.fixed?"translate(0,-50%)":"translate(0,0)")+"; ",this.mgnModalBoxCSS+="opacity: 0; ",this.mgnModalBoxCSS+="pointer-events: none; ",this.mgnModalBoxBgCSS="position: fixed; ",this.mgnModalBoxBgCSS+="left: 0; ",this.mgnModalBoxBgCSS+="top: 0; ",this.mgnModalBoxBgCSS+="width: 100%; ",this.mgnModalBoxBgCSS+="height: 200%; ",this.mgnModalBoxBgCSS+="background:"+this.bgColor+"; ",this.mgnModalBoxBgCSS+="transition: all "+this.modalSpeed/1e3+"s ease; ",this.mgnModalBoxBgCSS+="-webkit-transition: all "+this.modalSpeed/1e3+"s ease; ",this.mgnModalBoxBgCSS+="z-index: 10000; ",this.mgnModalBoxBgCSS+="cursor: pointer; ",this.mgnModalBoxBgCSS+="opacity: 0; ",this.mgnModalBoxBgCSS+="pointer-events: none; ";var e="position: absolute; ";if(e+="right: 0; ",e+="top: -50px; ",e+="z-index: 10000; ",e+="cursor: pointer; ",e+="color: #FFF; ",e+="font-size: 40px; ",e+="line-height: 1; ",e+="margin: 0; ",this.mgnModalBoxInnerCSS="background: "+this.innerBgColor+"; ",this.mgnModalBoxInnerCSS+="padding: "+this.innerBgPadding+"px; ",this.mgnModalBoxInnerCSS+="position: relative; ",this.mgnModalBoxInnerCSS+="cursor: default; ",this.mgnModalBoxImgCSS="padding: 0; ",this.mgnModalBoxImgCSS+="background: none; ",this.mgnModalImgCSS="height: auto; ",this.mgnModalImgCSS+="max-width: 100%; ",this.mgnModalImgCSS+="display: block; ",this.mgnModalImgCSS+="margin: 0 auto; ",this.mgnModalBoxMovieCSS="padding: 0; ",this.mgnModalBoxMovieCSS+="background: none; ",this.mgnModalBoxMovieCSS+="height: 0; ",this.mgnModalBoxMovieCSS+="position: relative; ",this.mgnModalBoxMovieCSS+="padding-bottom: 56.25%; ",this.mgnModalBoxMovieIframeCSS="display: block; ",this.mgnModalBoxMovieIframeCSS+="height: 100%; ",this.mgnModalBoxMovieIframeCSS+="position: absolute; ",this.mgnModalBoxMovieIframeCSS+="left: 0; ",this.mgnModalBoxMovieIframeCSS+="top: 0; ",this.mgnModalBoxMovieIframeCSS+="width: 100%; ",this.modal){document.getElementsByTagName("body")[0].insertAdjacentHTML("beforeend",o),this.mgnModalBoxElm=document.getElementById(this.mgnModalBox),this.mgnModalBoxInnerElm=document.getElementById(this.mgnModalBoxInner),this.mgnModalBoxCloseElm=document.getElementById(this.mgnModalBoxClose),this.mgnModalBoxBgElm=document.getElementById(this.mgnModalBoxBg),this.linkInnerHTMLElm=document.getElementsByClassName(this.linkInnerHTML),this.mgnModalBoxElm.style.cssText=this.mgnModalBoxCSS,this.mgnModalBoxInnerElm.style.cssText=this.mgnModalBoxInnerCSS,this.mgnModalBoxBgElm.style.cssText=this.mgnModalBoxBgCSS,this.mgnModalBoxCloseElm.style.cssText=e;for(var n=0;n<this.mgnModalDetailElm.length;n++)this.mgnModalDetailElm[n].style.display="none";for(n=0;n<this.modal.length;n++)this.modal[n].getAttribute("href")||this.AddClass(this.modal[n],this.linkInnerHTML);this.modal[0].classList||(this.mgnModalBoxElm.style.display="none",this.mgnModalBoxBgElm.style.display="none")}var i=function(o){o.preventDefault(),t.Close()};this.mgnModalBoxCloseElm=document.getElementById(this.mgnModalBoxClose),this.mgnModalBoxBgElm=document.getElementById(this.mgnModalBoxBg),this.mgnModalBoxCloseElm.addEventListener("click",i),this.mgnModalBoxBgElm.addEventListener("click",i)},t.prototype.Open=function(t){if(!this.modal[0])return console.error("OpenModal('"+t+"') ERROR  '"+t+"' is not found."),!1;this.target=document.querySelectorAll(t)[0],this.Set()},t.prototype.Set=function(){var t=this.target.getAttribute("href"),o=new String(t);this.index=Array.prototype.indexOf.call(this.modal,this.target),this.scrollVal=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,t?o.match(this.mgnModalImg)?this.IfImage(t):o.match(this.mgnModalMovie)?this.IfYoutube(t):o.match(this.mgnModalHtml)&&this.IfOuterHTML(t):this.IfInnerHTML()},t.prototype.IfImage=function(t){var o=this,e='<img src="'+t+'" class="j-modal_img">',n=new Image;n.src=t,this.AddClass(this.mgnModalBoxInnerElm,"j-modal_img"),this.mgnModalBoxInnerElm.style.cssText=this.mgnModalBoxImgCSS,this.mgnModalWrapElm=this.mgnModalBoxInnerElm.querySelectorAll("#"+this.mgnModalWrap)[0],this.mgnModalWrapElm.innerHTML=e,document.getElementsByClassName("j-modal_img")[0].style.cssText=this.mgnModalImgCSS,n.onload=function(){o.Ready()}},t.prototype.IfYoutube=function(t){var o='<iframe src="https://www.youtube.com/embed/'+t.split("/")[3]+'?autoplay=1&rel=0&playsinline=1" allowfullscreen="true" frameborder="0"></iframe>';this.AddClass(this.mgnModalBoxInnerElm,"j-modal_movie"),this.mgnModalBoxInnerElm.style.cssText=this.mgnModalBoxImgCSS,this.mgnModalWrapElm=this.mgnModalBoxInnerElm.querySelectorAll("#"+this.mgnModalWrap)[0],this.mgnModalWrapElm.style.cssText=this.mgnModalBoxMovieCSS,this.mgnModalWrapElm.innerHTML=o,this.mgnModalWrapElm.getElementsByTagName("iframe")[0].style.cssText=this.mgnModalBoxMovieIframeCSS,this.Ready()},t.prototype.IfOuterHTML=function(t){var o=this,e=this.target.getAttribute("data-ModalType");if(e){if("iframe"==e){var n=.8*window.innerHeight,i=this.target.getAttribute("data-modalHeight");i&&(n=i);var l='<iframe src="'+t+'" width="100%" height="'+n+'" frameborder="0"></iframe>';this.mgnModalBoxInnerElm.style.cssText=this.mgnModalBoxImgCSS,this.mgnModalWrapElm=this.mgnModalBoxInnerElm.querySelectorAll("#"+this.mgnModalWrap)[0],this.mgnModalWrapElm.innerHTML=l,this.Ready()}}else{var s=new XMLHttpRequest;s.open("GET",t,!0),s.timeout=3e3,s.onload=function(t){4===s.readyState&&(200===s.status?(o.mgnModalBoxInnerElm.style.cssText=o.mgnModalBoxInnerCSS,o.mgnModalWrapElm=o.mgnModalBoxInnerElm.querySelectorAll("#"+o.mgnModalWrap)[0],o.mgnModalWrapElm.innerHTML=s.responseText,o.Ready()):console.error("This request got an error."))},s.ontimeout=function(o){alert("The request for "+t+" timed out.")},s.onerror=function(t){console.error("This request got an error.")},s.send(null)}},t.prototype.IfInnerHTML=function(){var t=Array.prototype.indexOf.call(this.linkInnerHTMLElm,this.target),o=this.mgnModalDetailElm[t].innerHTML;this.mgnModalBoxInnerElm.style.cssText=this.mgnModalBoxInnerCSS,this.mgnModalWrapElm=this.mgnModalBoxInnerElm.querySelectorAll("#"+this.mgnModalWrap)[0],this.mgnModalWrapElm.innerHTML=o,this.Ready()},t.prototype.Ready=function(){var t=this,o=this.target.getAttribute("data-modalWidth"),e=this.target.getAttribute("data-modalHeight");o=o||this.width+"px",e=e||"inherit",this.mgnModalBoxElm.style.maxWidth=o,this.mgnModalBoxElm.style.height=e,this.mgnModalBoxElm.style.transition="inherit",this.mgnModalBoxElm.style.setProperty("-webkit-transition","inherit"),setTimeout(function(){t.Show()},10)},t.prototype.Show=function(){var t=this,o=window.innerHeight,e=this.mgnModalBoxElm.scrollHeight,n=(o-e)/2;this.fixed?(this.tagHTML.style.position="fixed",this.tagHTML.style.width="100%",this.tagHTML.style.top=-this.scrollVal+"px"):this.mgnModalBoxElm.style.top=o>e?this.scrollVal+n+"px":this.scrollVal+40+"px",setTimeout(function(){t.modal[0].classList?(t.mgnModalBoxElm.style.opacity=1,t.mgnModalBoxElm.style.pointerEvents="inherit",t.mgnModalBoxElm.style.transition="all "+t.modalSpeed/1e3+"s ease",t.mgnModalBoxElm.style.setProperty("-webkit-transition","all "+t.modalSpeed/1e3+"s ease"),t.mgnModalBoxBgElm.style.opacity=t.bgOpacity,t.mgnModalBoxBgElm.style.pointerEvents="inherit",t.mgnModalBoxElm.addEventListener("transitionend",function o(){t.OpenEnd(t.index),t.mgnModalBoxElm.removeEventListener("transitionend",o,!1)},!1)):(t.mgnModalBoxElm.style.opacity=1,t.mgnModalBoxBgElm.style.opacity=1,t.mgnModalBoxElm.style.display="block",t.mgnModalBoxBgElm.style.display="block")},100)},t.prototype.Close=function(){var t=this;this.mgnModalBoxElm.style.opacity=0,this.mgnModalBoxElm.style.pointerEvents="none",this.mgnModalBoxBgElm.style.opacity=0,this.mgnModalBoxBgElm.style.pointerEvents="none",this.mgnModalBoxElm.addEventListener("transitionend",function o(){t.mgnModalBoxInnerElm.setAttribute("class",!1),t.mgnModalWrapElm.setAttribute("style",!1),t.mgnModalWrapElm.innerHTML="",t.CloseEnd(),t.mgnModalBoxElm.removeEventListener("transitionend",o,!1)},!1),this.modal[0].classList||(this.mgnModalBoxElm.style.display="none",this.mgnModalBoxBgElm.style.display="none"),this.fixed&&(this.tagHTML.removeAttribute("style"),window.scroll(0,this.scrollVal))},t.prototype.AddClass=function(t,o){t.classList?t.classList.add(o):t.className+=" "+o},t})?n.call(o,e,o,t):n)||(t.exports=i)}]);